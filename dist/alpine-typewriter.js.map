{"version":3,"file":"alpine-typewriter.js","sources":["../src/index.js","../builds/cdn.js"],"sourcesContent":["class Typewriter {\n    constructor(element, texts, waitTime) {\n        this.element = element;\n        this.texts = texts || [];\n        this.current = 1;\n        this.currentText = '';\n        this.waitTime = waitTime || 2000;\n    }\n\n    async start() {\n        this.currentText = this.texts[0] || '';\n        this.element.innerText = this.currentText;\n        this.increment();\n        while (true) {\n            await this.swap();\n        }\n    }\n\n    async swap() {\n        await this.wait(this.waitTime);\n        await this.clear();\n        await this.type(this.nextText());\n    }\n\n    increment() {\n        this.current++;\n        if (this.current > this.texts.length) {\n            this.current = 1;\n        }\n    }\n\n    nextText() {\n        let text = this.texts[this.current - 1];\n        this.increment();\n        return text;\n    }\n\n    text() {\n        return this.currentText;\n    }\n\n    length() {\n        return this.text().length;\n    }\n\n    append(text) {\n        this.currentText += text;\n        this.element.innerText = this.currentText;\n\n        return this.wait(100);\n    }\n\n    backspace() {\n        this.currentText = this.text().slice(0, -1);\n        this.element.innerText = this.currentText;\n\n        return this.wait(100);\n    }\n\n    async clear() {\n        while (this.length()) {\n            await this.backspace();\n        }\n    }\n\n    async type(text) {\n        while (text.length) {\n            await this.append(text[0]);\n\n            text = text.substring(1);\n        }\n    }\n\n    async wait(milliseconds) {\n        return new Promise((resolve) => {\n            setTimeout(resolve, milliseconds);\n        });\n    }\n}\n\nexport default function (Alpine) {\n    Alpine.directive(\n        'typewriter',\n        (el, { expression, modifiers }, { evaluate }) => {\n            const texts = evaluate(expression);\n\n            const timeModifiers = modifiers.filter((modifier) =>\n                modifier.match(/^\\d+m?s$/),\n            );\n            const latestTimeModifier = timeModifiers.pop();\n            let milliseconds = null;\n            if (latestTimeModifier) {\n                if (latestTimeModifier.endsWith('ms')) {\n                    milliseconds = parseInt(\n                        latestTimeModifier.match(/^(\\d+)/)[1],\n                    );\n                } else {\n                    milliseconds =\n                        parseInt(latestTimeModifier.match(/^(\\d+)s/)[1]) * 1000;\n                }\n            }\n\n            new Typewriter(el, texts, milliseconds).start().then();\n        },\n    );\n}\n","import Typewriter from '../src/index.js';\n\ndocument.addEventListener('alpine:init', () => {\n    Typewriter(window.Alpine);\n});\n"],"names":["Typewriter","constructor","element","texts","waitTime","current","currentText","start","innerText","increment","swap","wait","clear","type","nextText","length","text","append","backspace","slice","substring","milliseconds","Promise","resolve","setTimeout","Alpine","directive","el","expression","modifiers","evaluate","timeModifiers","filter","modifier","match","latestTimeModifier","pop","endsWith","parseInt","then","document","addEventListener","window"],"mappings":"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"}