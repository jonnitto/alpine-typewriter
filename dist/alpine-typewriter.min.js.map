{"version":3,"file":"alpine-typewriter.min.js","sources":["../src/index.js","../builds/cdn.js"],"sourcesContent":["class Typewriter {\n    constructor(element, texts, waitTime) {\n        this.element = element;\n        this.texts = texts || [];\n        this.current = 1;\n        this.currentText = '';\n        this.waitTime = waitTime || 2000;\n    }\n\n    async start() {\n        this.currentText = this.texts[0] || '';\n        this.element.innerText = this.currentText;\n        this.increment();\n        while (true) {\n            await this.swap();\n        }\n    }\n\n    async swap() {\n        await this.wait(this.waitTime);\n        await this.clear();\n        await this.type(this.nextText());\n    }\n\n    increment() {\n        this.current++;\n        if (this.current > this.texts.length) {\n            this.current = 1;\n        }\n    }\n\n    nextText() {\n        let text = this.texts[this.current - 1];\n        this.increment();\n        return text;\n    }\n\n    text() {\n        return this.currentText;\n    }\n\n    length() {\n        return this.text().length;\n    }\n\n    append(text) {\n        this.currentText += text;\n        this.element.innerText = this.currentText;\n\n        return this.wait(100);\n    }\n\n    backspace() {\n        this.currentText = this.text().slice(0, -1);\n        this.element.innerText = this.currentText;\n\n        return this.wait(100);\n    }\n\n    async clear() {\n        while (this.length()) {\n            await this.backspace();\n        }\n    }\n\n    async type(text) {\n        while (text.length) {\n            await this.append(text[0]);\n\n            text = text.substring(1);\n        }\n    }\n\n    async wait(milliseconds) {\n        return new Promise((resolve) => {\n            setTimeout(resolve, milliseconds);\n        });\n    }\n}\n\nexport default function (Alpine) {\n    Alpine.directive(\n        'typewriter',\n        (el, { expression, modifiers }, { evaluate }) => {\n            const texts = evaluate(expression);\n\n            const timeModifiers = modifiers.filter((modifier) =>\n                modifier.match(/^\\d+m?s$/),\n            );\n            const latestTimeModifier = timeModifiers.pop();\n            let milliseconds = null;\n            if (latestTimeModifier) {\n                if (latestTimeModifier.endsWith('ms')) {\n                    milliseconds = parseInt(\n                        latestTimeModifier.match(/^(\\d+)/)[1],\n                    );\n                } else {\n                    milliseconds =\n                        parseInt(latestTimeModifier.match(/^(\\d+)s/)[1]) * 1000;\n                }\n            }\n\n            new Typewriter(el, texts, milliseconds).start().then();\n        },\n    );\n}\n","import Typewriter from '../src/index.js';\n\ndocument.addEventListener('alpine:init', () => {\n    Typewriter(window.Alpine);\n});\n"],"names":["Typewriter","constructor","element","texts","waitTime","this","current","currentText","async","innerText","increment","swap","wait","clear","type","nextText","length","text","append","backspace","slice","substring","milliseconds","Promise","resolve","setTimeout","document","addEventListener","window","Alpine","directive","el","expression","modifiers","evaluate","latestTimeModifier","filter","modifier","match","pop","endsWith","parseInt","start","then"],"mappings":"2FAAA,MAAMA,EACFC,YAAYC,EAASC,EAAOC,GACxBC,KAAKH,QAAUA,EACfG,KAAKF,MAAQA,GAAS,GACtBE,KAAKC,QAAU,EACfD,KAAKE,YAAc,GACnBF,KAAKD,SAAWA,GAAY,GAC/B,CAEUI,cAIP,IAHAH,KAAKE,YAAcF,KAAKF,MAAM,IAAM,GACpCE,KAAKH,QAAQO,UAAYJ,KAAKE,YAC9BF,KAAKK,oBAEKL,KAAKM,MAElB,CAESH,mBACAH,KAAKO,KAAKP,KAAKD,gBACfC,KAAKQ,cACLR,KAAKS,KAAKT,KAAKU,WACxB,CAEDL,YACIL,KAAKC,UACDD,KAAKC,QAAUD,KAAKF,MAAMa,SAC1BX,KAAKC,QAAU,EAEtB,CAEDS,WACI,IAAIE,EAAOZ,KAAKF,MAAME,KAAKC,QAAU,GAErC,OADAD,KAAKK,YACEO,CACV,CAEDA,OACI,OAAOZ,KAAKE,WACf,CAEDS,SACI,OAAOX,KAAKY,OAAOD,MACtB,CAEDE,OAAOD,GAIH,OAHAZ,KAAKE,aAAeU,EACpBZ,KAAKH,QAAQO,UAAYJ,KAAKE,YAEvBF,KAAKO,KAAK,IACpB,CAEDO,YAII,OAHAd,KAAKE,YAAcF,KAAKY,OAAOG,MAAM,GAAI,GACzCf,KAAKH,QAAQO,UAAYJ,KAAKE,YAEvBF,KAAKO,KAAK,IACpB,CAEUJ,cACP,KAAOH,KAAKW,gBACFX,KAAKc,WAElB,CAESX,WAACS,GACP,KAAOA,EAAKD,cACFX,KAAKa,OAAOD,EAAK,IAEvBA,EAAOA,EAAKI,UAAU,EAE7B,CAESb,WAACc,GACP,OAAO,IAAIC,SAASC,IAChBC,WAAWD,EAASF,EAApB,GAEP,EC3ELI,SAASC,iBAAiB,eAAe,KAC1BC,OAAOC,OD8EXC,UACH,cACA,CAACC,GAAMC,aAAYC,cAAeC,eAC9B,MAAM/B,EAAQ+B,EAASF,GAKjBG,EAHgBF,EAAUG,QAAQC,GACpCA,EAASC,MAAM,cAEsBC,MACzC,IAAIjB,EAAe,KACfa,IAEIb,EADAa,EAAmBK,SAAS,MACbC,SACXN,EAAmBG,MAAM,UAAU,IAIgB,IAAnDG,SAASN,EAAmBG,MAAM,WAAW,KAIzD,IAAItC,EAAW+B,EAAI5B,EAAOmB,GAAcoB,QAAQC,MAAhD,GCnGR"}