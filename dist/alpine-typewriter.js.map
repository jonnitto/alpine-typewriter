{"version":3,"file":"alpine-typewriter.js","sources":["../src/index.js","../builds/cdn.js"],"sourcesContent":["class Typewriter {\n    constructor(element, texts, waitTime) {\n        this.element = element;\n        this.texts = texts || [];\n        this.current = 1;\n        this.waitTime = waitTime || 2000;\n    }\n\n    async start() {\n        this.element.innerText = this.texts[0] || '';\n        this.increment();\n        while (true) {\n            await this.swap();\n        }\n    }\n\n    async swap() {\n        await this.wait(this.waitTime);\n        await this.clear();\n        await this.type(this.nextText());\n    }\n\n    increment() {\n        this.current++;\n        if (this.current > this.texts.length) {\n            this.current = 1;\n        }\n    }\n\n    nextText() {\n        let text = this.texts[this.current - 1];\n        this.increment();\n        return text;\n    }\n\n    text() {\n        return this.element.innerText;\n    }\n\n    length() {\n        return this.text().length;\n    }\n\n    append(text) {\n        this.element.innerText += text;\n\n        return this.wait(100);\n    }\n\n    backspace() {\n        this.element.innerText = this.text().slice(0, -1);\n\n        return this.wait(100);\n    }\n\n    async clear() {\n        while (this.length()) {\n            await this.backspace();\n        }\n    }\n\n    async type(text) {\n        while (text.length) {\n            await this.append(text[0]);\n\n            text = text.substring(1);\n        }\n    }\n\n    async wait(milliseconds) {\n        return new Promise((resolve) => {\n            setTimeout(resolve, milliseconds);\n        })\n    }\n}\n\nexport default function (Alpine) {\n    Alpine.directive('typewriter', (el, { expression, modifiers }, { evaluate }) => {\n        const texts = evaluate(expression);\n\n        const timeModifiers = modifiers.filter((modifier) => modifier.match(/^\\d+m?s$/));\n        const latestTimeModifier = timeModifiers.pop();\n        let milliseconds = null;\n        if (latestTimeModifier) {\n            if (latestTimeModifier.endsWith('ms')) {\n                milliseconds = parseInt(latestTimeModifier.match(/^(\\d+)/)[1]);\n            } else {\n                milliseconds = parseInt(latestTimeModifier.match(/^(\\d+)s/)[1]) * 1000;\n            }\n        }\n\n        new Typewriter(el, texts, milliseconds).start();\n    });\n}\n","import Typewriter from '../src/index.js';\n\ndocument.addEventListener('alpine:init', () => {\n    Typewriter(window.Alpine);\n});\n"],"names":["Typewriter","constructor","element","texts","waitTime","current","start","innerText","increment","swap","wait","clear","type","nextText","length","text","append","backspace","slice","substring","milliseconds","Promise","resolve","setTimeout","Alpine","directive","el","expression","modifiers","evaluate","timeModifiers","filter","modifier","match","latestTimeModifier","pop","endsWith","parseInt","document","addEventListener","window"],"mappings":"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"}